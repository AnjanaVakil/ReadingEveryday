#### 什么是索引？
- 索引就是书的目录 加速找到你想要的数据

#### 索引的分类
- B+tree索引、Hash索引（等值查询块）、Full-text索引 （数据结构）
- 聚集索引、二级索引（叶子节点放的是主键值）  （物理存储）
- 主键索引（一个表最多只能有一个 不能为空且唯一）、唯一索引（一个表可以有多个 唯一但能为空）、普通索引、前缀索引（对字符串前几个字符建立索引） （特性）
- 单列索引、联合索引（最左匹配原则） （字段个数）

#### 索引下推
- 如果不走索引下推的话 对于联合索引 a、b 如果执行 where a > 1 and b = 2 找到了第一个满足a > 1会回表查到完整的数据再交由执行器进行判断
- 索引下推也就是赋予了联合索引遍历过程中判断的权力 不用再回表查出数据再判断 减少了io

#### 索引区分度
- 建立联合索引时 要把**区分度大**的字段排在前面 区分度越大越能筛选掉更多的数据
- 不建议对区分度小的字段建立索引 因为如果筛不掉很多行的话 回表要占据大量io

#### 索引创建注意事项
- 索引需要占用物理空间
- 创建索引和维护索引要耗费数据 会降低增删改的效率

什么时候适合索引？
- 字段有唯一性限制，等值查询那样就能用const类型查询
- 经常用于where查询条件的字段  如果查询条件不是一个字段 可以建立联合索引
- 经常用于group by 和 order by的字段，查询就不用再做一次排序

什么时候不需要创建索引？
- where order by group by用不到的字段
- 字段中存在大量重复数据，不需要创建
- 表数据太少
- 经常更新的字段

#### 优化索引
- 前缀索引优化 减小索引项的大小 order by无法使用
- 覆盖索引 二级索引就能查得到数据不用回表
- 主键索引自增  每次插入都是追加操作 不需要重新移动数据 如果使用随机主键 那么插入都是随机的 需要找到插入位置 还会导致页分类
- 索引列非空
- 防止索引失效