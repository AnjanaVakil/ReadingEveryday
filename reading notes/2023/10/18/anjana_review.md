#### 复制日志的实现

##### 基于语句

不适用的场景：

- 任何调用非确定性函数的语句：NOW()、RAND()

  - 主节点在记录操作语句时，将`非确定性函`数替换为执行之后的`确定性结果`
  - 但需要考虑很多边界条件
  
- 使用了`自增列`、`依赖于DB的现有数据`的语句

- 有副作用的语句：触发器、存储过程、用户定义的函数

##### 基于预写日志WAL

缺点：

- 日志描述的数据结果WAL非常底层：哪些磁盘块的哪些字节发生改变
- 复制方案和存储引擎紧密耦合

##### 基于行的逻辑日志

逻辑日志

e.g., MySQL的二进制日志binlog

##### 基于触发器

应用程序层进行复制控制
