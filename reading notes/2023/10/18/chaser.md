#### 事务的特性
1. A 原子性 一个事务要么全部完成要么全部没完成
2. C 一致性 数据完整性没有被破坏 最终结果是能够预料的
3. I 隔离性 事务之间并行执行不会导致数据不一致
4. D 持久性 事务完成后能持久的保存不会消失

#### 事务隔离级别
1. 读未提交 RU  一个事务能读到另一个事务已修改但未提交的数据  存在的问题 脏读
2. 读提交 RC 一个事务能读到另一个事务已修改已提交的数据 存在的问题 幻读 不可重复读
3. 可重复读 RR 一个事务执行开始看到的数据和最后看到的一样 存在的问题 幻读
4. 串行化

#### MVCC
一条记录会有一条隐藏列 一个是trx_id 用于记录最新修改过的事务id 一个是  roll_pointer 指向上一个版本的记录
read view是一个快照  记录了当前活跃的事务id 以及自己的事务id
可重复读隔离级别是一个事务开始会启动一个read view 然后整个事务都在使用这个read view
每次查询数据会比较数据的版本 会找到比readview中所记录的所有活跃事务版本还要旧的记录
读提交 是每次读的时候会启动新的read view

对于Innodb实现的可重复读 分为两个方面
1. 普通select使用快照读
2. select for update  updata insert 是使用当前读 但是会加间隙锁 如果有其他事务在间隙锁的范围内插入修改数据 就会被阻塞