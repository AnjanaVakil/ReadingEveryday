在阶段1，A的事务管理器将<prepare, T>加入日志中，并强制将日志写入稳定存储器，然后将prepare T的消息发到所有参与这个事务的节点，在本例中就是节点B和C，B和C系统的局部事务管理器在接到prepare消息后，来决定是否提交T中属于它的那部分操作，如果不能提交（比如出现任何错误），事务管理器就在日志中加一个<not prepared, T>记录，并且向A发送abort T作为响应，如果能提交，事务管理器就在日志中加一个<ready, T>记录并且将所有与T相关的日志记录强制写入稳定存储器中，然后向A回复一条ready T作为响应。

在阶段2，当A收到所有对prepare消息回答后，就可以确定T是提交还是中止。如果A收到所有参与者的ready应答消息后，该事务可以提交，否则该事务必须撤销。提交事务T时，将<commit T>（如果中止事务，记录<abort T>）日志记录写入日志，并且强制将日志写入稳定存储器中，并且将commit消息（如果中止事务，发送abort消息）发到所有参与者，其他节点收到commit消息后，将<commit T>写入日志，并且向协调者发送确认消息。A收到所有参与者的确认消息后，把记录<complete T>加入日志文件中。
