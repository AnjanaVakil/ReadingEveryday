
| 并发问题 | 问题描述 | 对策 |
| :-----: | :----: | :----: |
| 多进程并发调用 | 不同CPU上的两个进程可能同时调用consoleread。| 使用锁机制，避免同时访问驱动程序的数据结构。|
| 硬件中断 | CPU在执行consoleread时，硬件可能请求CPU处理控制台(实际上是UART)中断。| 同样使用锁机制，保护正在执行的程序不受中断影响。|
| 中断传递 | 在consoleread执行时，硬件可能在另一个CPU上发出控制台中断。 | 锁机制可以解决这一问题，防止并发的中断处理引起混乱。|
| 等待输入的进程问题 | 一个进程可能在等待设备的输入，但输入到达的中断可能在另一个进程（或根本没有进程）运行时到达。 | 中断处理程序需要能独立处理，不能关心被打断的进程或代码。|
