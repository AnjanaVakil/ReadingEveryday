### Field tags and schema evolution
模式总是处于变化之中； Thrift 和 Protocol Buffers 是如何应对这种演化并保持向前和向后兼容性的呢？
演化主要包括：增删字段 和 修改字段类型。
一个简单的处理方式就是我们忽视所有在当前版本 IDL 中未知的字段类型即可。需要满足以下两个约束：
向后兼容：新增加的字段类型需要标记为 optional ；这样老版本的数据不会因为缺失数据报错。
向前兼容：新的 tag id 只能不断追加，不能重用被删除的老的 tag id 。保证旧代码不会解析错数据，而只是忽视。删除字段也必须删除 optional 的。
### Datatype and schema evolution
修改数据类型通常只发生在可以互相转化类型的情况；比如 int64 -> int32 。 不过可能会出现一些丢失精度的情况。
在 pb 中支持，普通字段和 repeated 字段的转换。
单值 -> 多值： 空数组或数组中只包含一个元素
多值 -> 单值： 保留最后一个元素