## Chap4 Encoding and Evolution

对于服务端应用程序，经常执行滚动升级（成为分阶段发布），每次将新版本部署到少数几个节点，检查新版本是否正常运行，然后逐步在所有节点上升级新的版本。这样新版本部署无需服务暂停，从而支持更频繁的版本发布。

这意味着：新旧版本的代码和数据，可能会在系统内同时共存，会保证向前兼容性和向后兼容性：
* 向后兼容性：新代码能读取旧代码写的数据
* 向前兼容性：旧代码能读取新代码写的数据

其中，向后兼容性通常不难实现，保留旧的代码来读取旧数据即可；向前兼容性需要旧代码能忽略新版本代码所做的添加。

本章内容：
* 数据编码格式，JSON、XML、Protocol Buffer、Thrift、Avro
* 处理模式变化，如何支持新旧数据和新旧代码共存的系统
* 数据存储和通信场景，Rest、RPC、消息传递系统（如 actors、消息队列）