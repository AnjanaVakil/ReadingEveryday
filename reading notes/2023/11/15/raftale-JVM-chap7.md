# 类加载器

类加载阶段的「通过一个类的全限定名来获取描述该类的二进制字节流」这个动作被放到了虚拟机外部实现，以便让应用程序自己决定如何去获取所需的类，实现这个动作的代码被称为类加载器。

## 类与类加载器

类加载器虽然只用于实现类的加载动作，但它与加载的类本身一起共同确立了这个类在JVM中的唯一性。

只有当完全相同的两个类从同一个类加载器中加载 才能被认为是相等的，否则也是不同的两个类。



## 双亲委派模型

从JVM的角度来看，只存在两种不同的类加载器：一种是启动类加载器；另外一种就是其他所有的类加载器，这些类加载器都由Java语言实现，独立于虚拟机外部，并且全部继承自抽象类java.lang.ClassLoader。



从Java开发人员的角度来看，类加载器分为三种：

1. 启动类加载器：负责加载存在<JAVA_HOME>\lib目录，或者被-Xbootclasspath参数指定的路径中存放的。
2. 扩展类加载器：负责加载<JAVA_HOME>\lib\ext目录中的，或者被java.ext.dirs系统变量所指定的路径中所有的类库。JDK9之后被模块化所取代。
3. 应用程序加载器：负责加载用户类路径上的所有类库。



类加载必须满足双亲委派模型：如果一个类加载器收到了类加载的请求，它首先不会自己去尝试加载这个类，而是把这个请求委派给父类加载去完成，每一个层次的类加载器都是如此，只有当父加载器自己反馈无法完成这个加载请求时，子加载器才会加载这个类。


双亲委派模型保证了不会加载两个相同的类。
