#### 接口设计
1. 服务端侧需要给一个长url 然后系统返回一个短url
2. 客户端侧给一个短url 然后返回长url让客户端重定向到长url

#### 长度
1. 如果给定能用的是62个字符 0-9 a-z A-Z  那么长度为n的短链能支持n^62个地址  所以n定多少看你需要多少个不同的短链地址

#### 方案
1. 哈希 哈希完取前几位  问题是发生哈希碰撞怎么解决 这可以通过再次哈希直到没有碰撞  优点是难以预测下一个地址
2. 发号器+进制转换 问题是容易预测下一个地址 还有分布式环境id的生成 优点就是不用去查数据库是否发生哈希碰撞

#### 存储
1. 关系型数据库 就存一列 长url + 短url
2. kv数据库 可以把 长url作为k 短url做v 以及反过来短url做key 长url做value 都做存储 方便服务端和客户端两边修改和访问

#### 其他
1. 存储可以做sharding 冗余手段
2. 防止攻击 短链系统做限速器
3. web层面做server less 方便水平扩展