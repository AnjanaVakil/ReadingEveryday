容器类型和容器值概述

-   一个数组或者切片的所有元素紧挨着存放在一块连续的内存中
-   一个数组中的所有元素均存放在此数组值的直接部分，一个切片中的所有元素均存放在此切片值的间接部分
-   映射是使用哈希表算法来实现的
-   一个映射中的所有元素也均存放在一块连续的内存中，但是映射中的元素并不一定紧挨着存放
-   元素访问的时间复杂度均为O(1)。 但是一般来说，映射元素访问消耗的时长要数倍于数组和切片元素访问消耗的时长



在一个数组或者切片组合字面量中

-   如果索引下标出现，它的类型不必是数组和切片类型的键值类型int，但它必须是一个可以表示为int值的非负常量；如果它是一个类型确定值，则它的类型必须为一个内置整数类型
-   在数组或切片组合字面量中，如果一个元素的索引下标缺失，则编译器认为它的索引下标为出现在它之前的元素的索引下标加一



容器类型零值的字面量表示形式

-   所有切片和映射类型的零值均用预声明的标识符nil来表示
-   数组变量在声明的时候未指定初始值，它的元素所占的内存空间已经被开辟出来。 但是一个nil切片或者映射值的元素的内存空间尚未被开辟出来
-   容器字面量是不可寻址的但可以被取地址



容器值的比较

-   映射和切片类型都属于不可比较类型（任意两个映射值（或切片值）是不能相互比较的）
-   但是一个映射值或者切片值可以和预声明的nil标识符进行比较以检查此映射值或者切片值是否为一个零值
-   大多数数组类型都是可比较类型，除了元素类型为不可比较类型的数组类型
-   比较两个数组值时，它们的对应元素将按照逐一被比较（按照下标顺序比较）



切片的内部结构

-   当一个切片被用做一个`append`函数调用中的基础切片
    -   如果添加的元素数量大于此（基础）切片的冗余元素槽位的数量，则一个新的底层内存片段将被开辟出来并用来存放结果切片的元素。 这时，基础切片和结果切片不共享任何底层元素。
    -   否则，不会有底层内存片段被开辟出来。这时，基础切片中的所有元素也同时属于结果切片。两个切片的元素都存放于同一个内存片段上



容器赋值

-   当一个映射赋值语句执行完毕之后，目标映射值和源映射值将共享底层的元素。 向其中一个映射中添加（或从中删除）元素将体现在另一个映射中
-   当一个切片赋值给另一个切片后，它们将共享底层的元素。它们的长度和容量也相等。但是和映射不同，如果以后其中一个切片改变了长度或者容量，此变化不会体现到另一个切片中
-   当一个数组被赋值给另一个数组，所有的元素都将被从源数组复制到目标数组。赋值完成之后，这两个数组不共享任何元素



Pp. 142-157