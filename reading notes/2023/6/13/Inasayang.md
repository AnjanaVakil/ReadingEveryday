多态（`polymorphism`）

-   调用一个接口值的方法实际上将调用此接口值的动态值的对应方法
-   一个接口值可以通过包裹不同动态类型的动态值来表现出各种不同的行为，这称为多态
-   当方法`i.m`被调用时，`i`存储的实现关系信息的方法表中的方法`t.m`将被找到并被调用。方法表是一个切片，所以寻找过程是一个切片元素访问操作，不会消耗很多时间
-   在`nil`接口值上调用方法将产生一个恐慌，因为没有具体的方法可被调用



反射（`reflection`）

-   一个接口值中存储的动态类型信息可以被用来检视此接口值的动态值和操纵此动态值所引用的值
-   在Go中，内置反射机制包括类型断言（`type assertion`）和`type-switch`流程控制代码块



类型断言

四种接口相关的类型转换情形

-   非接口值转换为接口类型（非接口值的类型必须实现了此接口类型）
-   接口值转换为另一个接口类型（前者接口值的类型实现了后者目标接口类型）
-   接口值转换为一个非接口类型（非接口类型必须实现了此接口值的接口类型）
-   接口值转换为另一个接口类型（前者接口值的类型未实现后者目标接口类型，但是前者的动态类型有可能实现了目标接口类型）

前两种情形都要求源值的类型必须实现了目标接口类型，都是通过普通类型转换。在编译时刻验证。

后两种情形的合法性是在运行时刻通过类型断言来验证的。



一个类型断言表达式的语法为`i.(T)`，其中`i`为一个接口值，`T`为一个类型名或者类型字面表示。 类型`T`可以为

-   任意一个非接口类型
-   一个任意接口类型



一个类型断言表达式`i.(T)`中，`i`称为断言值，`T`称为断言类型。一个断言可能成功或者失败

-   `T`是一个非接口类型，如果断言值`i`的动态类型存在并且此动态类型和`T`为同一类型，则此断言将成功；否则，此断言失败。断言成功，估值结果为断言值`i`的动态值的一个复制
-   `T`是一个接口类型，当断言值`i`的动态类型存在并且此动态类型实现了接口类型`T`，则此断言将成功；否则，此断言失败。断言成功，估值结果为一个包裹了断言值`i`的动态值的一个复制的`T`
    值。

一个失败的类型断言的估值结果为断言类型的零值

如果一个类型断言中的断言值是一个零值nil接口值，则此断言必定失败

如果一个断言失败并且它的可选的第二个结果未呈现，则此断言将造成一个恐慌



Pp. 238-243