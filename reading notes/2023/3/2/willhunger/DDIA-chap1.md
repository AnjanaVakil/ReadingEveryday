### 可扩展性（Scalability）
可扩展性是用来描述系统应对负载增加能力的术语。
讨论可扩展性通常要考虑这类问题： “如果系统以某种方式增长， 我们应对增长的措施有哪些" ' "我们该如何添加计算资源来处理额外的负载＂。
基于负载变化来考虑扩展性。

#### 描述负载
1. QPS：requests per second to a web server
2. the radio of reads to writes
3. simultaneously active users
4. the hit rate on a cache，or something else
负载可以用称为负载参数的若干数字来描述。 参数的最佳选择取决于系统的体系结构， 它可能是Web服务器的每秒请求处理次数， 数据库中写入的比例， 聊天室的同时活动用户数量， 缓存命中率等。 有时平均值很重要， 有时系统瓶颈来自千少数峰值。

Twitter 扩展性的挑战：巨大的 fan-out 扇出结构：每个用户会关注多人，也会被很多人圈粉。处理方法：

1. 关系型数据库查表
   * 读负载压力大
2. 发送者发送至缓存的消息队列
   * 发布时的负载压力大
   * 每个用户关注者的分布情况（还可以结合用户使用Twitter频率情况进行加权）是该案例可扩展的关键负载参数，因为它决定了扇出数。
3. Twitter正在转向结合两种方法。 大多数用户的tweet在发布时继续以一对多写入时间线，但是少数具有超多关注者（例如那些名入）的用户除外，对这些用户采用类似方案1' 其推文被单独提取， 在读取时才和用户的时间线主表合并。 这种混合方法能够提供始终如一的良好表现。
   

#### 描述性能
1. throughput
2. response time
3. latency
在批处理系统如Hadoop中，我们通常关心吞吐量(throughput) , 即每秒可处理的记录条数，或者在某指定数据集上运行作业所需的总时间注3; 而在线系统通常更看重服务的响应时间(responsetime) , 即客户端从发送请求到接收响应之间的间隔。

* Latency：延迟，请求花费在处理上的时间
* Response time：响应时间，客户端看到的，除请求处理时间外的，包括来回网络延迟、排队延迟的时间

即使所有请求都相同也会由于其他变量因素而引入一些随机延迟抖动，这些因素包括上下文切换和进程调度、 网络数据包丢失和TCP重传、 垃圾回收暂停、 缺页中断和磁盘I/0, 甚至胀务器机架的机械振动
描述性能的指标：

* 服务的平均响应时间
* 百分位数：
  * 中位数指标非常适合描述多少用户需要等待多长时间： 一半的用户请求的服务时间少于中位数响应时间， 另一半则多于中位数的时间。
  * 采用较高的响应时间百分位数(tail latencies, 尾部延迟或长尾效应）很重婓， 因为它们直接影响用户的总体服务体验。